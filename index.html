<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PGA Tour 2k25 Distance Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      font-size: 2.5em; /* 40px/16=2.5em */
    }
    .wrapper {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: flex-start;
      gap: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }
    .input-section, .output-section {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 500px;
      box-sizing: border-box;
    }
    label {
      display: block;
      margin-top: 10px;
    }
    input, select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      box-sizing: border-box;
    }
    .result-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    .result-table td {
      padding: 8px;
      border-bottom: 1px solid #ccc;
    }
    .button-group {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: space-between;
    }
    .error {
      color: red;
      font-weight: bold;
      margin-top: 10px;
    }
    .wind-circle {
      position: relative;
      margin-top: 20px;
      margin-bottom: 20px;
      text-align: center;
      max-width: 100%;
      height: 350px;
    }
    .wind-circle canvas {
      background-color: #fff;
      border: 1px solid #999;
      cursor: crosshair;
      max-width: 100%;
      height: auto;
    }
    .key-results {
      color: red;
      font-weight: 700;
      font-size: 2em;
    }
    @media (max-width: 600px) {
      .wrapper {
        flex-direction: column;
        align-items: stretch;
      }
      .button-group {
        flex-direction: column;
      }
      button {
        flex: 1 1 100%;
      }
    }

    /* Dark mode styles */
    body.dark-mode {
        background-color: #1e1e1e;
        color: #e0e0e0;
    }
    
    body.dark-mode .input-section,
    body.dark-mode .output-section {
        background-color: #2c2c2c;
        color: #e0e0e0;
    }
    
    body.dark-mode input,
    body.dark-mode select {
        background-color: #444;
        color: #e0e0e0;
        border: 1px solid #666;
    }
    
    body.dark-mode .result-table td {
        border-bottom: 1px solid #555;
    }
    
    body.dark-mode button {
        background-color: #3a9b50;
    }
    
    body.dark-mode .reset-button {
        background-color: #b91c35;
    }
    
    body.dark-mode .wind-circle canvas {
        background-color: #333;
        border-color: #666;
    }

    #windDirectionSelector button.selected {
      background-color: #f06292;
      color: white;
      font-weight: bold;
    }

    .wind-circle-container {
      position: relative;
      width: 300px;
      height: 300px;
      margin: auto auto;
    }
    
    /* Calculate and Reset Buttons */
    .calc-btn {
      flex: 1 1 48%;
      padding: 17px 48px;
      font-size: 14px;
      line-height: 1;
      border-radius: 500px;
      transition-property: background-color, border-color, color, box-shadow, filter;
      transition-duration: 0.3s;
      border: 1px solid transparent;
      letter-spacing: 2px;
      min-width: 160px;
      text-transform: uppercase;
      white-space: normal;
      font-weight: 700;
      text-align: center;
      color: #fff;
      cursor: pointer;
    }

    /* Calculate Button Style */
    .calc-btn.calculate {
      background-color: #1ED760;
    }

    .calc-btn.calculate:hover {
      transform: scale(1.04);
      background-color: #21e065;
    }

    /* Reset Button Style */
    .calc-btn.reset {
      background-color: #C41E3A;
    }

    .calc-btn.reset:hover {
      transform: scale(1.04);
      background-color: #b91c35;
    }

    /* ========================
      Wind Direction Button Styling (Unchanged)
      ======================== */
    .wind-btn {
      position: absolute;
      width: 40px; /* Adjust as needed */
      height: 40px;
      padding: 0;
      border-radius: 50%;
      background-color: #ddd;
      border: 1px solid #999;
      font-size: 12px;
      cursor: pointer;
      transition: background-color 0.2s ease;
      text-align: center;
      line-height: 40px;
    }

    .wind-btn:hover {
      background-color: #bbb;
    }

    .wind-btn.selected {
      background-color: #f06292;
      color: #fff;
      font-weight: bold;
    }

    .wind-center-indicator {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      transform: translate(-50%, -50%);
    }
    
    .wind-arrow {
      width: 0;
      height: 0;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      border-bottom: 20px solid #666; /* Arrow color */
      transform-origin: center bottom;
      transition: transform 0.3s ease;
    }

    /* Swing Bias Button Styling */
    .swing-bias-selector {
      width: 500px;
    }

    .swing-btn {
      padding: 10px 20px;
      border: 1px solid #999;
      background-color: #ddd;
      color: #333;
      font-size: 14px;
      border-radius: 20px;
      cursor: pointer;
      margin: 5px;
      width: 40%;
    }

    .swing-btn:hover {
      background-color: #bbb;
      transform: scale(1.05);
    }

    .swing-btn.selected {
      background-color: #1ED760;
      color: #fff;
      font-weight: bold;
      border-color: #1ED760;
    }

    /* Dark Mode Support */
    body.dark-mode .swing-btn {
      background-color: #444;
      color: #eee;
      border-color: #666;
    }

    body.dark-mode .swing-btn:hover {
      background-color: #555;
    }

    body.dark-mode .swing-btn.selected {
      background-color: #3a9b50;
      border-color: #3a9b50;
      color: #fff;
    }

    .slope-table {
      width: 100%;
      text-align: center;
      border-collapse: collapse;
    }
    
    .slope-table th {
      padding: 10px;
      font-size: 16px;
    }
    
    .slope-table td {
      vertical-align: middle;
      padding: 10px;
    }
    
    .slope-btn {
      width: 90px;                /* Fixed width for all buttons */
      height: 40px;                /* Fixed height for consistency */
      padding: 8px 16px;
      margin: 4px 0;
      border: 1px solid #999;
      border-radius: 20px;
      background-color: #ddd;
      color: white;
      cursor: pointer;
      font-size: 12px;
      text-align: center;
      vertical-align: middle;
      transition: background-color 0.2s ease, transform 0.2s ease;
      white-space: nowrap;         /* Prevent text wrapping */
      box-sizing: border-box;
    }
    
    
    /* Hover effect */
    .slope-btn:hover {
      background-color: #777;
    }

    /* Selected button override */
    .slope-btn.selected {
      background-color: #1ED760;
      color: #fff;
      font-weight: bold;
      border-color: #1ED760;
    }

    /* Yellow and Red gradient buttons (special cases) */
    .slope-btn[data-value="Yellow"] {
      background-color: #FFD54F;
      color: #333;
      border-color: #FFC107;
    }

    .slope-btn[data-value="Yellow"]:hover {
      background-color: #FFCA28;
    }

    .slope-btn[data-value="Red"] {
      background-color: #E57373;
      color: #fff;
      border-color: #D32F2F;
    }

    .slope-btn[data-value="Red"]:hover {
      background-color: #EF5350;
    }

    /* Keep selected style for Yellow and Red */
    .slope-btn[data-value="Yellow"].selected {
      background-color: #FFC107;
      color: #333;
      border-color: #FFA000;
    }

    .slope-btn[data-value="Red"].selected {
      background-color: #D32F2F;
      color: #fff;
      border-color: #B71C1C;
    }

    /* ðŸ–¤ Dark Mode Support */
    body.dark-mode .slope-btn {
      background-color: #555; /* darker neutral gray in dark mode */
      color: #eee;
      border-color: #666;
    }

    body.dark-mode .slope-btn:hover {
      background-color: #666;
    }

    body.dark-mode .slope-btn.selected {
      background-color: #3a9b50;
      border-color: #3a9b50;
      color: #fff;
    }

    body.dark-mode .slope-btn[data-value="Yellow"] {
      background-color: #FFCA28;
      color: #222;
    }

    body.dark-mode .slope-btn[data-value="Yellow"].selected {
      background-color: #FFC107;
      color: #222;
    }

    body.dark-mode .slope-btn[data-value="Red"] {
      background-color: #E57373;
      color: #fff;
    }

    body.dark-mode .slope-btn[data-value="Red"].selected {
      background-color: #D32F2F;
      color: #fff;
    }
    
  </style>
</head>
<body>
    <div style="text-align:center; margin-bottom: 10px;">
      <label style="cursor: pointer;">
        <input type="checkbox" id="darkModeToggle" checked>
        Dark Mode
      </label>
    </div>
  <h1>
    <img src="https://github.com/campb223/PGA-2k25-Distance-Calculator/blob/main/assets/2k25_logo.png?raw=true" alt="PGA Tour 2k25 Logo" style="max-width: 35%; max-height: 35%;">
    <br>
    Distance Calculator
  </h1>
  <div class="wrapper">
    <!-- Input Section -->
    <div class="input-section">
      <form id="calculatorForm">

        <div class="swing-bias-selector">
          <label style="display:block; margin-bottom: 5px;">Swing Bias:</label>
          <div id="swingBiasSelector" style="display: inline-block; margin: auto; padding: 10px; width: 500px;">
            <button type="button" class="swing-btn selected" data-value="draw" onclick="setSwingBias('draw')">Draw</button>
            <button type="button" class="swing-btn" data-value="fade" onclick="setSwingBias('fade')">Fade</button>
          </div>
          <input type="hidden" id="swingBias" value="draw">
        </div>

        <label>Yards to Pin:<input type="number" id="yardsToPin" required></label>
        <label>Elevation (in feet) (Input negative # for downhill):<input type="number" id="elevation" required></label>
        <label>Wind Speed (mph):<input type="number" id="windSpeed" required></label>
        <label style="display: none;">Wind Direction (degrees):<input type="number" id="windDir" required></label>

        <div class="wind-circle">
          <label style="display:block; text-align:left;">Wind Direction:</label>
          <div id="windDirectionSelector" class="wind-circle-container" style="max-height: 700px;">
            <button type="button" class="wind-btn" style="top: 0%; left: 50%;" onclick="setWindDir(0)">N</button>
            <button type="button" class="wind-btn" style="top: 20%; left: 80%;" onclick="setWindDir(45)">NE</button>
            <button type="button" class="wind-btn" style="top: 50%; left: 100%;" onclick="setWindDir(90)">E</button>
            <button type="button" class="wind-btn" style="top: 80%; left: 80%;" onclick="setWindDir(135)">SE</button>
            <button type="button" class="wind-btn" style="top: 100%; left: 50%;" onclick="setWindDir(180)">S</button>
            <button type="button" class="wind-btn" style="top: 80%; left: 20%;" onclick="setWindDir(225)">SW</button>
            <button type="button" class="wind-btn" style="top: 50%; left: 0%;" onclick="setWindDir(270)">W</button>
            <button type="button" class="wind-btn" style="top: 20%; left: 20%;" onclick="setWindDir(315)">NW</button>
            <div class="wind-center-indicator">
              <div class="wind-arrow"></div>
            </div>
          </div>
          <input type="hidden" id="windDir" value="0">
        </div>
        
        <div class="slope-selector">
          <table class="slope-table">
            <tr>
              <th>Lie Slope</th>
              <th>Lie Gradient</th>
              <th>Side Slope</th>
              <th>Side Gradient</th>
            </tr>
            <tr>
              <td>
                <button type="button" class="slope-btn" data-group="lieSlope" data-value="Upslope" onclick="setSlope('lieSlope', 'Upslope')">Upslope</button><br>
                <button type="button" class="slope-btn selected" data-group="lieSlope" data-value="Flat" onclick="setSlope('lieSlope', 'Flat')">Flat</button><br>
                <button type="button" class="slope-btn" data-group="lieSlope" data-value="Downslope" onclick="setSlope('lieSlope', 'Downslope')">Downslope</button>
              </td>
              <td>
                <button type="button" class="slope-btn selected" data-group="lieGradient" data-value="Green" onclick="setSlope('lieGradient', 'Green')">Green</button><br>
                <button type="button" class="slope-btn" data-group="lieGradient" data-value="Yellow" onclick="setSlope('lieGradient', 'Yellow')">Yellow</button><br>
                <button type="button" class="slope-btn" data-group="lieGradient" data-value="Red" onclick="setSlope('lieGradient', 'Red')">Red</button>
              </td>
              <td>
                <button type="button" class="slope-btn" data-group="sideSlope" data-value="Above feet" onclick="setSlope('sideSlope', 'Above feet')">Above feet</button><br>
                <button type="button" class="slope-btn selected" data-group="sideSlope" data-value="Flat" onclick="setSlope('sideSlope', 'Flat')">Flat</button><br>
                <button type="button" class="slope-btn" data-group="sideSlope" data-value="Below feet" onclick="setSlope('sideSlope', 'Below feet')">Below feet</button>
              </td>
              <td>
                <button type="button" class="slope-btn selected" data-group="sideGradient" data-value="Green" onclick="setSlope('sideGradient', 'Green')">Green</button><br>
                <button type="button" class="slope-btn" data-group="sideGradient" data-value="Yellow" onclick="setSlope('sideGradient', 'Yellow')">Yellow</button><br>
                <button type="button" class="slope-btn" data-group="sideGradient" data-value="Red" onclick="setSlope('sideGradient', 'Red')">Red</button>
              </td>
            </tr>
          </table>
        
          <!-- Hidden inputs to hold the actual values -->
          <input type="hidden" id="lieSlope" value="Flat">
          <input type="hidden" id="lieGradient" value="Green">
          <input type="hidden" id="sideSlope" value="Flat">
          <input type="hidden" id="sideGradient" value="Green">
        </div>

        <label>Lie Percentage (min-max, e.g., 85-90):
          <input type="text" id="liePercent" value="100-100" placeholder="e.g., 85-90">
        </label>

        <div class="button-group">
          <button type="submit" class="calc-btn calculate">Calculate</button>
          <button type="button" class="calc-btn reset" onclick="resetForm()">Reset</button>
        </div>
        <div id="errorMessage" class="error"></div>
      </form>
    </div>

    <!-- Output Section -->
    <div class="output-section">
      <table class="result-table2">
        <tr><td>Rough Min Carry Distance:</td><td id="minCarry">0.0 yds</td></tr>
        <tr><td>Rough Max Carry Distance:</td><td id="maxCarry">0.0 yds</td></tr>
      </table>

      <table class="result-table">
        <tr class="key-results"><td>Playing Distance:</td><td id="playDist">0.0 yds</td></tr>
        <tr class="key-results"><td>Left/Right Offset:</td><td id="lrOffset">0.0 yds</td></tr>
      </table>
    </div>
  </div>

  <script>
    document.getElementById('calculatorForm').addEventListener('submit', function(event) {
        event.preventDefault();
        calculate();
    });
  
    function calculate() {
      const errorEl = document.getElementById('errorMessage');
      errorEl.innerText = '';

      const yards = parseFloat(document.getElementById('yardsToPin').value);
      const elevFeet = parseFloat(document.getElementById('elevation').value);
      const windSpd = parseFloat(document.getElementById('windSpeed').value);
      const windDir = parseFloat(document.getElementById('windDir').value);

      if (isNaN(yards) || isNaN(elevFeet) || isNaN(windSpd) || isNaN(windDir)) {
          errorEl.innerText = 'Please fill in all required numeric fields correctly.';
          return;
      }
      if (windDir < 0 || windDir >= 360) {
          errorEl.innerText = 'Wind direction must be between 0 and 359 degrees.';
          return;
      }

      const lieSlope = document.getElementById('lieSlope').value;
      const lieGrad = document.getElementById('lieGradient').value;
      const sideSlope = document.getElementById('sideSlope').value;
      const sideGrad = document.getElementById('sideGradient').value;

      const windFrom = (windDir + 180) % 360;
      const rad = Math.PI / 180;

      const headwind = windSpd * Math.cos(windFrom * rad);
      
      const swingBias = document.getElementById('swingBias').value;
      const baseCrosswind = windSpd * Math.sin(windFrom * rad);
      const swingBiasMultiplier = getSwingBiasMultiplier(swingBias, windDir);
      const crosswind = baseCrosswind * swingBiasMultiplier;

      const headwindStrength = Math.abs(headwind);
      //let windAdj = Math.min(headwind, 10)*1 + Math.max(0, Math.min(headwind-10, 6))*1.5 + Math.max(0, headwind-16)*2;
      let windAdj = Math.min(headwindStrength, 10) * 1 
            + Math.max(0, Math.min(headwindStrength - 10, 6)) * 1.5 
            + Math.max(0, headwindStrength - 16) * 2;

      let lieAdj = 0;
      if (lieSlope === 'Upslope' && windFrom <= 90) {
          if (lieGrad === 'Green') lieAdj = 1;
          if (lieGrad === 'Yellow') lieAdj = 2;
          if (lieGrad === 'Red') lieAdj = 5;
      } else if (lieSlope === 'Downslope' && windFrom <= 90) {
          if (lieGrad === 'Green') lieAdj = 0;
          if (lieGrad === 'Yellow') lieAdj = -0.5;
          if (lieGrad === 'Red') lieAdj = -2;
      }

      let sideAdj = 0;
      if (sideSlope !== 'Flat') {
          const dist = yards;
          let factor = 0;
          
          if (sideGrad === 'Green') {
            factor = dist * 0.01;
          } else if (sideGrad === 'Yellow') {
            // Linearly interpolate between 2 (at 100 yds) and 5 (at 200 yds)
            factor = Math.min(5, Math.max(2, 2 + ((dist - 100) * (3 / 100))));
          } else if (sideGrad === 'Red') {
            factor = dist * 0.1;
          } else {
            factor = 0;
          }
          
          sideAdj = factor * (sideSlope === 'Above feet' ? 1 : -1);
      }

      const elevYards = elevFeet / 3;
      const playDist = yards + elevYards + (headwind > 0 ? windAdj * 1.2 : -windAdj * 0.8) + lieAdj;
      const lrOffset = Math.round(crosswind + sideAdj);

      // Lie Percentage Calculation
      const liePercentInput = document.getElementById('liePercent').value.trim();
      let minPercent = 100;
      let maxPercent = 100;

      if (liePercentInput.includes('-')) {
          const parts = liePercentInput.split('-').map(p => parseFloat(p.trim()));
          if (parts.length === 2 && !isNaN(parts[0]) && !isNaN(parts[1])) {
              minPercent = parts[0];
              maxPercent = parts[1];
          }
      } else {
          const singleVal = parseFloat(liePercentInput);
          if (!isNaN(singleVal)) {
              minPercent = maxPercent = singleVal;
          }
      }

      const minCarry = playDist * (minPercent / 100);
      const maxCarry = playDist * (maxPercent / 100);

      document.getElementById('minCarry').innerText = `${minCarry.toFixed(1)} yds`;
      document.getElementById('maxCarry').innerText = `${maxCarry.toFixed(1)} yds`;

      document.getElementById('playDist').innerText = `${playDist.toFixed(1)} yds`;
      document.getElementById('lrOffset').innerText = `${Math.abs(lrOffset)} yds ${lrOffset < 0 ? 'left' : lrOffset > 0 ? 'right' : ''}`;

      // This line clears the inputs without touching the results:
      clearInputsAfterCalculation();

    }

    function clearInputsAfterCalculation() {
      // Clear number inputs
      document.querySelectorAll('#calculatorForm input[type="number"]').forEach(input => {
        input.value = '';
      });
    
      // Reset selects (except Swing Bias)
      document.querySelectorAll('#calculatorForm select').forEach(select => {
        if (select.id !== 'swingBias') {
          select.value = select.options[0].value;
        }
      });
    
      // Reset lie percentage back to default
      document.getElementById('liePercent').value = '100-100';
    
      // Reset wind direction selector (visual reset)
      setWindDir(0);
    }

    function resetForm() {
      //document.querySelectorAll('input, select').forEach(el => el.value = el.tagName === 'SELECT' ? el.options[0].value : '');
      document.querySelectorAll('input').forEach(el => el.value = '');
      document.querySelectorAll('select').forEach(el => {
        if (el.id !== 'swingBias') {
          el.value = el.options[0].value;
        }
      });

      document.querySelectorAll('.result-table td:nth-child(2)').forEach(el => el.innerText = '0.0 yds');
      document.getElementById('errorMessage').innerText = '';
      document.getElementById('liePercent').value = '100-100';
      document.getElementById('minCarry').innerText = '0.0 yds';
      document.getElementById('maxCarry').innerText = '0.0 yds';
    }

    function setWindDirection(event, image) {
      const rect = image.getBoundingClientRect();
      const centerX = rect.left + rect.width / 2;
      const centerY = rect.top + rect.height / 2;
      const x = event.clientX - centerX;
      const y = event.clientY - centerY;
      const angle = Math.atan2(y, x) * (180 / Math.PI);
      const degrees = (angle + 450) % 360; // Adjust so 0Â° is at the top
      document.getElementById('windDir').value = Math.round(degrees);
    }

    /*

    const canvas = document.getElementById('windCanvas');
    const ctx = canvas.getContext('2d');
    const center = { x: canvas.width / 2, y: canvas.height / 2 };
    const radius = 100;
    let dragging = true;
    let end = { x: center.x + radius, y: center.y };

    function drawWindSelector() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    
      // Draw circle
      ctx.beginPath();
      ctx.arc(center.x, center.y, radius, 0, 2 * Math.PI);
      ctx.stroke();
    
      // Draw main wind direction line
      ctx.beginPath();
      ctx.moveTo(center.x, center.y);
      ctx.lineTo(end.x, end.y);
      ctx.strokeStyle = '#00f';
      ctx.lineWidth = 2;
      ctx.stroke();
    
      // Draw arrowhead
      const dx = end.x - center.x;
      const dy = end.y - center.y;
      const angle = Math.atan2(dy, dx);
    
      const arrowLength = 10;
      const arrowAngle = Math.PI / 8;
    
      // Points for arrowhead
      const arrowX1 = end.x - arrowLength * Math.cos(angle - arrowAngle);
      const arrowY1 = end.y - arrowLength * Math.sin(angle - arrowAngle);
      const arrowX2 = end.x - arrowLength * Math.cos(angle + arrowAngle);
      const arrowY2 = end.y - arrowLength * Math.sin(angle + arrowAngle);
    
      ctx.beginPath();
      ctx.moveTo(end.x, end.y);
      ctx.lineTo(arrowX1, arrowY1);
      ctx.moveTo(end.x, end.y);
      ctx.lineTo(arrowX2, arrowY2);
      ctx.stroke();
    }
      

    canvas.addEventListener('mousemove', function (e) {
      if (!dragging) return;
      const rect = canvas.getBoundingClientRect();
      const mouseX = e.clientX - rect.left;
      const mouseY = e.clientY - rect.top;
      end.x = mouseX;
      end.y = mouseY;
      drawWindSelector();

      const dx = mouseX - center.x;
      const dy = mouseY - center.y;
      const angle = Math.atan2(dy, dx) * (180 / Math.PI);
      const degrees = (angle + 450) % 360; // 0Â° = top
      document.getElementById('windDir').value = Math.round(degrees);
    });

    canvas.addEventListener('click', function () {
      dragging = !dragging;
    });

    drawWindSelector();
    */

    function setWindDir(degrees) {
      document.getElementById('windDir').value = degrees;
      
      // Highlight selected button
      const buttons = document.querySelectorAll('#windDirectionSelector button');
      buttons.forEach(btn => btn.classList.remove('selected'));
      const selectedBtn = [...buttons].find(btn => btn.innerText === degToLabel(degrees));
      if (selectedBtn) selectedBtn.classList.add('selected');
    
      // Rotate the arrow
      const arrow = document.querySelector('.wind-arrow');
      arrow.style.transform = `rotate(${degrees}deg)`;
    }
    
    function degToLabel(deg) {
      switch (deg) {
        case 0: return "N";
        case 45: return "NE";
        case 90: return "E";
        case 135: return "SE";
        case 180: return "S";
        case 225: return "SW";
        case 270: return "W";
        case 315: return "NW";
        default: return "";
      }
    }
    
    function getSwingBiasMultiplier(swingBias, windDir) {
      // Map windDir degrees into one of the 8 labels
      let windLabel = degToLabel(windDir);
    
      if (swingBias === "draw") {
        // Draw bias gets 1.2 multiplier for NE, E, SE
        return (windLabel === "NE" || windLabel === "E" || windLabel === "SE") ? 1.2 : 1;
      } else if (swingBias === "fade") {
        // Fade bias gets 1.2 multiplier for NW, W, SW
        return (windLabel === "NW" || windLabel === "W" || windLabel === "SW") ? 1.2 : 1;
      } else {
        // Neutral swing bias
        return 1;
      }
    }

    function setSwingBias(bias) {
      document.getElementById('swingBias').value = bias;
    
      const buttons = document.querySelectorAll('#swingBiasSelector .swing-btn');
      buttons.forEach(btn => btn.classList.remove('selected'));
    
      const selectedBtn = document.querySelector(`#swingBiasSelector .swing-btn[data-value="${bias}"]`);
      if (selectedBtn) selectedBtn.classList.add('selected');
    }

    function setSlope(group, value) {
      document.getElementById(group).value = value;
    
      const buttons = document.querySelectorAll(`.slope-btn[data-group="${group}"]`);
      buttons.forEach(btn => btn.classList.remove('selected'));
    
      const selectedBtn = document.querySelector(`.slope-btn[data-group="${group}"][data-value="${value}"]`);
      if (selectedBtn) selectedBtn.classList.add('selected');
    }

    // Dark mode toggle logic
    const darkModeToggle = document.getElementById('darkModeToggle');
    const body = document.body;

    // Enable dark mode by default on page load
    body.classList.add('dark-mode');

    darkModeToggle.addEventListener('change', function() {
    if (this.checked) {
        body.classList.add('dark-mode');
    } else {
        body.classList.remove('dark-mode');
    }
    });
  </script>
</body>
</html>

<!--
  PGA Tour 2k25 Distance Calculator
  Copyright (C) 2025

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program. If not, see <https://www.gnu.org/licenses/>.
-->
